â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          Tita2 Tracking Yaw å¯ç”¨æ€»ç»“æŠ¥å‘Š                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… ä¿®æ”¹æ—¥æœŸ: 2025å¹´11æœˆ28æ—¥
ğŸ¯ ç›®æ ‡: ä¸º Tita2 åŒè½®è¶³æœºå™¨äººå¯ç”¨ç›®æ ‡ç‚¹å¯¼èˆªå¥–åŠ± (tracking_yaw)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

## âœ… ä¿®æ”¹å†…å®¹

### 1. é…ç½®æ–‡ä»¶ä¿®æ”¹ (tita2_config.py)

**æ·»åŠ ä½ç½®**: class env (Line 38-42)
```python
# ç›®æ ‡ç‚¹å¯¼èˆªç³»ç»Ÿé…ç½®
reach_goal_delay = 0.5          # åˆ°è¾¾å»¶è¿Ÿ [ç§’]
next_goal_threshold = 0.8       # åˆ°è¾¾åˆ¤å®šè·ç¦» [ç±³]
num_future_goal_obs = 2         # å‰ç»ç›®æ ‡æ•°é‡
```

**ä¿®æ”¹ä½ç½®**: rewards.scales (Line 148)
```python
tracking_yaw = 1.0              # ä» 0.0 æ”¹ä¸º 1.0
```

### 2. ä»£ç ä¿®æ”¹

âŒ **æ— éœ€ä¿®æ”¹ä»»ä½• Python ä»£ç ï¼**

åŸå› ï¼šçˆ¶ç±» `LeggedRobot` å·²å®Œæ•´å®ç°ç›®æ ‡ç‚¹å¯¼èˆªç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼š
- âœ… ç›®æ ‡ç‚¹ç³»ç»Ÿåˆå§‹åŒ– (self.env_goals, self.cur_goal_idx, etc.)
- âœ… æ¯æ­¥æ›´æ–° target_yaw (_update_goals())
- âœ… è§‚æµ‹ç¼–ç  (delta_yaw, delta_next_yaw)
- âœ… å¥–åŠ±è®¡ç®— (_reward_tracking_yaw())

Tita2 é€šè¿‡ç»§æ‰¿è‡ªåŠ¨è·å¾—æ‰€æœ‰åŠŸèƒ½ï¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

## ğŸ” ç»´åº¦ä¸€è‡´æ€§éªŒè¯

### Tita2 çš„ n_proprio æ„æˆ (39 ç»´)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç»„æˆéƒ¨åˆ†            â”‚ ç»´åº¦  â”‚ è¯´æ˜                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ base_ang_vel        â”‚   3   â”‚ è§’é€Ÿåº¦                   â”‚
â”‚ imu_obs             â”‚   2   â”‚ roll, pitch              â”‚
â”‚ 0*delta_yaw         â”‚   1   â”‚ å ä½ç¬¦                   â”‚
â”‚ delta_yaw           â”‚   1   â”‚ â­ å½“å‰ç›®æ ‡æœå‘åå·®      â”‚
â”‚ delta_next_yaw      â”‚   1   â”‚ â­ ä¸‹ä¸€ä¸ªç›®æ ‡æœå‘åå·®    â”‚
â”‚ 0*commands[:2]      â”‚   2   â”‚ å ä½ç¬¦                   â”‚
â”‚ commands[0]         â”‚   1   â”‚ xæ–¹å‘é€Ÿåº¦å‘½ä»¤            â”‚
â”‚ env_class != 17     â”‚   1   â”‚ ç¯å¢ƒç±»å‹æ ‡è®°1            â”‚
â”‚ env_class == 17     â”‚   1   â”‚ ç¯å¢ƒç±»å‹æ ‡è®°2            â”‚
â”‚ dof_pos             â”‚   8   â”‚ å…³èŠ‚ä½ç½® (Tita2)         â”‚
â”‚ dof_vel             â”‚   8   â”‚ å…³èŠ‚é€Ÿåº¦ (Tita2)         â”‚
â”‚ actions             â”‚   8   â”‚ å†å²åŠ¨ä½œ (Tita2)         â”‚
â”‚ contact             â”‚   2   â”‚ è¶³ç«¯æ¥è§¦ (Tita2)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ€»è®¡                â”‚  39   â”‚ âœ“ ä¸é…ç½®åŒ¹é…             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

### å®Œæ•´è§‚æµ‹ç©ºé—´ (646 ç»´)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç»„æˆéƒ¨åˆ†            â”‚ ç»´åº¦  â”‚ è®¡ç®—å…¬å¼                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ obs_buf (proprio)   â”‚  39   â”‚ n_proprio                â”‚
â”‚ heights             â”‚ 187   â”‚ n_scan (17Ã—11)           â”‚
â”‚ priv_explicit       â”‚   9   â”‚ n_priv (3+3+3)           â”‚
â”‚ priv_latent         â”‚  21   â”‚ n_priv_latent (4+1+16)   â”‚
â”‚ obs_history         â”‚ 390   â”‚ history_len * n_proprio  â”‚
â”‚                     â”‚       â”‚ = 10 Ã— 39                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ€»è®¡                â”‚ 646   â”‚ âœ“ ä¸é…ç½®åŒ¹é…             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å…¬å¼éªŒè¯:
  646 = 39 + 187 + 9 + 21 + 390 âœ“

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

## ğŸ¯ Tracking Yaw å·¥ä½œåŸç†

### å¥–åŠ±å‡½æ•°

```
reward = exp(-|target_yaw - current_yaw|)
```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœå‘åå·®    â”‚ å¥–åŠ±å€¼     â”‚ ç‰©ç†å«ä¹‰     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    0Â°       â”‚   1.000    â”‚ æ­£å¯¹ç›®æ ‡ âœ“   â”‚
â”‚   30Â°       â”‚   0.609    â”‚ è½»å¾®åç¦»     â”‚
â”‚   60Â°       â”‚   0.353    â”‚ ä¸­åº¦åç¦»     â”‚
â”‚   90Â°       â”‚   0.208    â”‚ å‚ç›´ç›®æ ‡     â”‚
â”‚  120Â°       â”‚   0.127    â”‚ ä¸¥é‡åç¦»     â”‚
â”‚  180Â°       â”‚   0.043    â”‚ èƒŒå¯¹ç›®æ ‡ âœ—   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

### ç›®æ ‡ç‚¹æ›´æ–°é€»è¾‘

```
1. æœºå™¨äººç”Ÿæˆåœ¨ parkour åœ°å½¢çš„èµ·ç‚¹
   â†“
2. åœ°å½¢åŒ…å«é¢„è®¾çš„ç›®æ ‡ç‚¹åºåˆ—:
   goals[0] (èµ·ç‚¹) â†’ goals[1-8] (è¸è„šçŸ³) â†’ goals[9] (ç»ˆç‚¹)
   â†“
3. æ¯æ­¥è®¡ç®—:
   - distance = ||robot_pos - current_goal||
   - if distance < 0.8m: reach_goal_timer += 1
   - if timer > 0.5s: cur_goal_idx += 1
   â†“
4. æ›´æ–° target_yaw:
   - direction = current_goal - robot_pos
   - target_yaw = atan2(direction.y, direction.x)
   â†“
5. è®¡ç®—è§‚æµ‹:
   - delta_yaw = target_yaw - robot_yaw
   - (è¿›å…¥ç¥ç»ç½‘ç»œ)
   â†“
6. ç­–ç•¥è¾“å‡ºåŠ¨ä½œ â†’ å¥–åŠ±åé¦ˆ â†’ å­¦ä¹ æœå‘ç›®æ ‡
```

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

## ğŸ“Š å¥–åŠ±å‡½æ•°å¯¹æ¯”

### ä¿®æ”¹å‰ï¼ˆç¦ç”¨ tracking_yawï¼‰

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¥–åŠ±å‡½æ•°            â”‚ æƒé‡     â”‚ ä½œç”¨                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ tracking_goal_vel   â”‚  1.0     â”‚ è·Ÿéšé€Ÿåº¦å‘½ä»¤         â”‚
â”‚ lin_vel_z           â”‚ -2.0     â”‚ æƒ©ç½šå‚ç›´é€Ÿåº¦         â”‚
â”‚ ang_vel_xy          â”‚ -0.05    â”‚ æƒ©ç½šæ¨ªæ»šä¿¯ä»°è§’é€Ÿåº¦   â”‚
â”‚ orientation         â”‚ -1.0     â”‚ ä¿æŒèº«ä½“å§¿æ€         â”‚
â”‚ torques             â”‚ -0.0001  â”‚ æœ€å°åŒ–æ‰­çŸ©           â”‚
â”‚ dof_acc             â”‚ -2.5e-7  â”‚ å¹³æ»‘å…³èŠ‚è¿åŠ¨         â”‚
â”‚ collision           â”‚ -1.0     â”‚ é¿å…ç¢°æ’             â”‚
â”‚ action_rate         â”‚ -0.01    â”‚ å¹³æ»‘åŠ¨ä½œå˜åŒ–         â”‚
â”‚ delta_torques       â”‚ -1.0e-7  â”‚ å¹³æ»‘æ‰­çŸ©è¾“å‡º         â”‚
â”‚ dof_error           â”‚ -0.03    â”‚ ä¿æŒé»˜è®¤å…³èŠ‚å§¿æ€     â”‚
â”‚ hip_pos             â”‚ -0.5     â”‚ çº¦æŸé«‹å…³èŠ‚ä½ç½®       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ tracking_yaw        â”‚  0.0     â”‚ âŒ ç¦ç”¨              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**è¡Œä¸ºç‰¹å¾**: 
- å¯ä»¥ä¿æŒå¹³è¡¡å’Œç§»åŠ¨
- ä½†ç¼ºä¹æ˜ç¡®çš„ç©ºé—´å¯¼èˆªæ„è¯†
- å¯èƒ½åœ¨è¸è„šçŸ³ä¸Šéšæœºæ¸¸èµ°

### ä¿®æ”¹åï¼ˆå¯ç”¨ tracking_yawï¼‰

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¥–åŠ±å‡½æ•°            â”‚ æƒé‡     â”‚ ä½œç”¨                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ tracking_goal_vel   â”‚  1.0     â”‚ è·Ÿéšé€Ÿåº¦å‘½ä»¤         â”‚
â”‚ tracking_yaw        â”‚  1.0     â”‚ âœ… æœå‘ç›®æ ‡ç‚¹        â”‚
â”‚ (å…¶ä»–ä¸ä¸Šè¡¨ç›¸åŒ)    â”‚    ...   â”‚ ...                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**é¢„æœŸæ”¹è¿›**:
- âœ… ä¸»åŠ¨æœå‘ç›®æ ‡ç‚¹å‰è¿›
- âœ… æ²¿æœ€ä¼˜è·¯å¾„ç©¿è¶Šåœ°å½¢
- âœ… å®Œæˆ"èµ·ç‚¹â†’ç»ˆç‚¹"çš„å®Œæ•´ä»»åŠ¡
- âœ… å­¦ä¹ åœ¨çª„ç©ºé—´ä¸­ç²¾å‡†å¯¼èˆª

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### æ–¹æ³• 1: ä½¿ç”¨æµ‹è¯•è„šæœ¬ (æ¨è)

```bash
cd /home/bubble/æ¡Œé¢/extreme_parkour/extreme-parkour
./test_tracking_yaw.sh
```

### æ–¹æ³• 2: æ‰‹åŠ¨æµ‹è¯•

```bash
cd legged_gym/legged_gym/scripts
python train.py --task tita2 --exptid tracking-yaw-test \
    --num_envs 4 --max_iterations 2 --no_wandb --headless
```

### é¢„æœŸè¾“å‡º

```
âœ“ Setting up Isaac Gym
âœ“ Creating environment 'tita2'
âœ“ Importing robot class 'Tita2'
âœ“ Loading robot URDF

[Tita2] Environment created: 4 envs, 8 DOFs, 2 feet, 4 hips
[DEBUG] self.cfg.env.n_proprio = 39
[DEBUG] self.cfg.env.n_scan = 187
[DEBUG] self.cfg.env.num_observations = 646

[Tita2 DEBUG] Observation dimensions:
  obs_buf shape: torch.Size([4, 646])
  Expected n_proprio: 39
  Inferred n_proprio: 39.0
  Formula check: 39.0 * (1 + 10) + 187 + 21 = 646.0

âœ“ Initializing policy network
âœ“ Starting training...

Iteration 1:
  Mean reward: 2.35
  - tracking_goal_vel: 0.45
  - tracking_yaw: 0.78        â­ æ–°å¢ï¼å¹³å‡æœå‘åå·®çº¦ 25Â°
  - orientation: -0.12
  - ...

âœ“ Training completed successfully!
```

### é”™è¯¯æ’æŸ¥

å¦‚æœé‡åˆ°é”™è¯¯:

âŒ **AttributeError: no attribute 'reach_goal_delay'**
â†’ æ£€æŸ¥ tita2_config.py ä¸­ class env æ˜¯å¦æ·»åŠ äº†é…ç½®

âŒ **ç»´åº¦ä¸åŒ¹é… (mat1 and mat2 shapes...)**
â†’ ä¸åº”è¯¥å‘ç”Ÿï¼Œå¦‚æœå‡ºç°è¯·æä¾›å®Œæ•´é”™è¯¯ä¿¡æ¯

âŒ **KeyError: 'tracking_yaw'**
â†’ æ£€æŸ¥çˆ¶ç±» legged_robot.py ä¸­æ˜¯å¦æœ‰ _reward_tracking_yaw() æ–¹æ³•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

## ğŸ“ˆ åç»­è°ƒä¼˜å»ºè®®

### 1. å¥–åŠ±æƒé‡å¾®è°ƒ

```python
# å¦‚æœæœºå™¨äººå¯¼èˆªå¤ªæ…¢ï¼Œå¢åŠ æƒé‡:
tracking_yaw = 1.5 æˆ– 2.0

# å¦‚æœæœºå™¨äººè¿‡äºæ¿€è¿›å¯¼è‡´ä¸ç¨³å®šï¼Œå‡å°‘æƒé‡:
tracking_yaw = 0.5

# å¦‚æœæƒ³å¹³è¡¡é€Ÿåº¦å’Œæ–¹å‘:
tracking_yaw = 1.0  # (å½“å‰è®¾ç½®)
```

### 2. åˆ°è¾¾åˆ¤å®šè°ƒæ•´

```python
# å¦‚æœæœºå™¨äººå¾ˆéš¾è§¦å‘"åˆ°è¾¾":
next_goal_threshold = 1.0  # æ”¾å®½åˆ¤å®š

# å¦‚æœæƒ³è¦æ›´ç²¾ç¡®çš„å¯¼èˆª:
next_goal_threshold = 0.6  # ä¸¥æ ¼åˆ¤å®š

# æŠ˜ä¸­æ–¹æ¡ˆ:
next_goal_threshold = 0.8  # (å½“å‰è®¾ç½®)
```

### 3. å»¶è¿Ÿæ—¶é—´è°ƒæ•´

```python
# å¦‚æœæœºå™¨äººåœ¨ç›®æ ‡ç‚¹æŠ–åŠ¨:
reach_goal_delay = 0.8  # å¢åŠ å»¶è¿Ÿ

# å¦‚æœå¸Œæœ›å¿«é€Ÿåˆ‡æ¢ç›®æ ‡:
reach_goal_delay = 0.3  # å‡å°‘å»¶è¿Ÿ

# æŠ˜ä¸­æ–¹æ¡ˆ:
reach_goal_delay = 0.5  # (å½“å‰è®¾ç½®)
```

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

## ğŸ“š å‚è€ƒæ–‡æ¡£

- **è¯¦ç»†æŒ‡å—**: `/home/bubble/æ¡Œé¢/extreme_parkour/extreme-parkour/TRACKING_YAW_GUIDE.md`
- **é…ç½®æ–‡ä»¶**: `legged_gym/envs/tita2/tita2_config.py`
- **çˆ¶ç±»å®ç°**: `legged_gym/envs/base/legged_robot.py`
  - Line 207-224: _update_goals()
  - Line 389-397: compute_observations() (delta_yaw ç¼–ç )
  - Line 1233-1235: _reward_tracking_yaw()
- **åœ°å½¢ç”Ÿæˆ**: `legged_gym/utils/terrain.py`
  - Line 418-530: parkour_terrain() (ç›®æ ‡ç‚¹ç”Ÿæˆ)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

## âœ… æ€»ç»“

### ä¿®æ”¹æ€»ç»“

1. âœ… é…ç½®æ–‡ä»¶ï¼šæ·»åŠ  3 ä¸ªå‚æ•°ï¼Œå¯ç”¨ 1 ä¸ªå¥–åŠ±
2. âœ… ä»£ç ï¼šæ— éœ€ä¿®æ”¹ï¼ˆçˆ¶ç±»å·²å®ç°ï¼‰
3. âœ… ç»´åº¦ï¼šå®Œå…¨ä¸€è‡´ï¼ˆ646 = 39 + 187 + 9 + 21 + 390ï¼‰
4. âœ… æµ‹è¯•ï¼šè„šæœ¬å·²å‡†å¤‡å¥½

### åŸç†æ€»ç»“

```
ç›®æ ‡ç‚¹ç³»ç»Ÿ â†’ è®¡ç®— target_yaw â†’ ç¼–ç  delta_yaw â†’ ç­–ç•¥å­¦ä¹  â†’ å¥–åŠ±å¼•å¯¼
      â†“             â†“                â†“            â†“           â†“
   åœ°å½¢ç”Ÿæˆ      æ¯æ­¥æ›´æ–°          è¿›å…¥è§‚æµ‹     è¾“å‡ºåŠ¨ä½œ    exp(-|Î”Î¸|)
```

### é¢„æœŸæ•ˆæœ

- ğŸ¯ æœºå™¨äººä¼šä¸»åŠ¨æœå‘ç›®æ ‡ç‚¹
- ğŸš€ è®­ç»ƒæ”¶æ•›æ›´å¿«ï¼ˆæ˜ç¡®çš„ä»»åŠ¡ç›®æ ‡ï¼‰
- ğŸ† å®Œæˆç‡æ›´é«˜ï¼ˆæ²¿æœ€ä¼˜è·¯å¾„ï¼‰
- ğŸ¤– è¡Œä¸ºæ›´æ™ºèƒ½ï¼ˆç©ºé—´å¯¼èˆªèƒ½åŠ›ï¼‰

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‰ **æ‰€æœ‰å‡†å¤‡å·¥ä½œå·²å®Œæˆï¼Œå¯ä»¥å¼€å§‹è®­ç»ƒäº†ï¼**

å»ºè®®å…ˆè¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯åŠŸèƒ½æ­£å¸¸ï¼Œç„¶åè¿›è¡Œå®Œæ•´è®­ç»ƒã€‚

ç¥è®­ç»ƒé¡ºåˆ©ï¼ğŸš€
